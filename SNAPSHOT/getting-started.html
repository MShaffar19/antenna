<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2019-12-19 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20191219" />
    <meta http-equiv="Content-Language" content="en" />
    <title>antenna-documentation &#x2013; Getting started</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Antenna Documentation</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2019-12-19<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="index.html" title="About"><span class="none"></span>About</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Getting started</a>
  </li>
    <li><a href="how-to-use.html" title="How to use Antenna"><span class="icon-chevron-down"></span>How to use Antenna</a>
      <ul class="nav nav-list">
    <li><a href="antenna-cli/index.html" title="Command Line Interface"><span class="none"></span>Command Line Interface</a>  </li>
    <li><a href="antenna-gradle-plugin/index.html" title="Gradle Plugin"><span class="none"></span>Gradle Plugin</a>  </li>
    <li><a href="antenna-maven-plugin/index.html" title="Maven"><span class="none"></span>Maven</a>  </li>
      </ul>
  </li>
    <li><a href="troubleshooting.html" title="Troubleshooting"><span class="none"></span>Troubleshooting</a>  </li>
          <li class="nav-header">Development</li>
    <li><a href="how-to-configure.html" title="How to configure Antenna"><span class="icon-chevron-down"></span>How to configure Antenna</a>
      <ul class="nav nav-list">
    <li><a href="tool-configuration.html" title="Tool Configuration"><span class="none"></span>Tool Configuration</a>  </li>
    <li><a href="config-configuration.html" title="config.xml"><span class="none"></span>config.xml</a>  </li>
    <li><a href="workflow-configuration.html" title="Workflow Configuration"><span class="icon-chevron-down"></span>Workflow Configuration</a>
      <ul class="nav nav-list">
    <li><a href="analyzers/analyzers.html" title="Analyzers"><span class="none"></span>Analyzers</a>  </li>
    <li><a href="processors/processors.html" title="Processors"><span class="none"></span>Processors</a>  </li>
    <li><a href="generators/generators.html" title="Generators"><span class="none"></span>Generators</a>  </li>
    <li><a href="outputHandlers/outputHandlers.html" title="Output Handlers"><span class="none"></span>Output Handlers</a>  </li>
      </ul>
  </li>
      </ul>
  </li>
    <li><a href="dev-guide.html" title="Development Guide"><span class="none"></span>Development Guide</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Getting started</h1>
<div class="section">
<h2><a name="Overview"></a>Overview</h2>
<p>This guide shows how to bring Antenna into action. It will show which tools are required and how to set up Antenna in a small java example project using maven.</p></div>
<div class="section">
<h2><a name="Requirements"></a>Requirements</h2>
<p>The following tools need to be installed:</p>
<ul>

<li>Maven</li>
<li>Java JDK 1.8</li>
<li>An IDE/editor of your choice</li>
</ul>
<p>Check that these tools are set up correctly and functional.</p></div>
<div class="section">
<h2><a name="Using_Antenna_in_a_java_project"></a>Using Antenna in a java project</h2>
<div class="section">
<h3><a name="Getting_Antenna"></a>Getting Antenna</h3>
<p>Fetch Antenna from the corresponding repository or build it yourself.</p></div></div>
<div class="section">
<h2><a name="The_example_project"></a>The example project</h2>
<div class="section">
<h3><a name="Setting_up_the_example_project"></a>Setting up the example project</h3>
<p>We create a new maven project. This will result in a project structure like this.</p>

<div>
<div>
<pre class="source">example_project
&#x2502;   pom.xml
&#x2514;&#x2500;&#x2500;&#x2500;src
    &#x251c;&#x2500;&#x2500;&#x2500;main
    &#x2502;   &#x251c;&#x2500;&#x2500;&#x2500;java
    &#x2502;   &#x2514;&#x2500;&#x2500;&#x2500;resources
    &#x2514;&#x2500;&#x2500;&#x2500;test
        &#x2514;&#x2500;&#x2500;&#x2500;java
</pre></div></div>

<p>Now we&#x2019;re going to add Antenna to our project. Therefore we have to edit the pom.xml to our needs. We add the <tt>antenna-maven-plugin</tt> as a plugin.</p>
<p>The plugin section of our pom should look like this:</p>

<div>
<div>
<pre class="source">&lt;plugins&gt;
    ...
    &lt;plugin&gt;
        &lt;groupId&gt;org.eclipse.sw360.antenna&lt;/groupId&gt;
        &lt;artifactId&gt;antenna-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;DESIRED_VERSION&lt;/version&gt;

        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;analyze&lt;/goal&gt;
                &lt;/goals&gt;
                &lt;phase&gt;package&lt;/phase&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;

        &lt;configuration&gt;
            &lt;productFullname&gt;Example Project&lt;/productFullname&gt;
            &lt;version&gt;1.0&lt;/version&gt;

            &lt;workflowDefinitionFile&gt;/home/jenkins/agent/workspace/antenna-documentation-site-deploy/antenna-documentation/src/workflow.xml&lt;/workflowDefinitionFile&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;
&lt;/plugins&gt;
</pre></div></div>

<p>With the above mentioned configuration Antenna will be executed while the <tt>package</tt> execution step is running. Also have a look at the <tt>&lt;workflowDefinitionFile&gt;</tt> key (further reading about plugin specific settings <a href="tool-configuration.html">here</a>). This points to our workflow.xml which we still have to define. It will contain which analyzers, processors and generators Antenna should use.</p>
<p>In this example we are going to use the <tt>JSON Analyzer</tt> and generate an HTML Report with the <tt>HTML Report Writer</tt>. For this we have to create our workflow.xml (previously set via the <tt>&lt;workflowDefinitionFile&gt;</tt> in the configuration) in the <tt>src</tt> folder:</p>

<div>
<div>
<pre class="source">&lt;workflow&gt;
    &lt;analyzers&gt;
        &lt;step&gt;
            &lt;name&gt;JSON Analyzer&lt;/name&gt;
            &lt;classHint&gt;org.eclipse.sw360.antenna.workflow.analyzers.JsonAnalyzer&lt;/classHint&gt;
            &lt;configuration&gt;
                &lt;entry key=&quot;base.dir&quot; value=&quot;/home/jenkins/agent/workspace/antenna-documentation-site-deploy/antenna-documentation&quot;/&gt;
                &lt;entry key=&quot;file.path&quot; value=&quot;src/dependencies.json&quot;/&gt;
            &lt;/configuration&gt;
        &lt;/step&gt;
    &lt;/analyzers&gt;

    &lt;generators&gt;
        &lt;step&gt;
            &lt;name&gt;HTML Report Writer&lt;/name&gt;
            &lt;classHint&gt;org.eclipse.sw360.antenna.workflow.generators.HTMLReportGenerator&lt;/classHint&gt;
        &lt;/step&gt;
    &lt;/generators&gt;
&lt;/workflow&gt;
</pre></div></div>

<p>This configuration adds the <a href="analyzers/json-analyzer-step.html">JSON Analyzer</a> and the <a href="./generators/HTML-report-generator-step.html">HTML Report Writer</a>. Further information to the configuration of the workflow, and how to add more steps, can be found <a href="workflow-configuration.html">here</a>. The JSON Analyzer refers to a json file, which contains the dependencies used in our project. This is not provided yet so let us add it to the project. Like mentioned above it is also placed in the <tt>src</tt> directory. The json file is called <tt>dependencies.json</tt>. You can call it whatever you feel like but don&#x2019;t forget to let the analyzer point to the correct path in your workflow.xml. To keep things small and easy, we are going to have only one dependency and this is the commons-lang3 library.</p>

<div>
<div>
<pre class="source">{
  &quot;components&quot;: [
    {
      &quot;hash&quot;: &quot;b2921b7862e7b26b43aa&quot;,
      &quot;componentIdentifier&quot;: {
        &quot;coordinates&quot;: {
          &quot;artifactId&quot;: &quot;commons-lang3&quot;,
          &quot;groupId&quot;: &quot;org.apache.commons&quot;,
          &quot;version&quot;: &quot;3.5&quot;
        }
      },
      &quot;proprietary&quot;: false,
      &quot;matchState&quot;: &quot;exact&quot;,
      &quot;pathnames&quot;: [
        &quot;commons-lang-2.0.jar&quot;
      ],
      &quot;licenseData&quot;: {
        &quot;declaredLicenses&quot;: [
          {
            &quot;licenseId&quot;: &quot;Apache-2.0&quot;,
            &quot;licenseName&quot;: &quot;Apache License, v2.0&quot;
          }
        ],
        &quot;observedLicenses&quot;: [
          {
            &quot;licenseId&quot;: &quot;Apache-1.1&quot;,
            &quot;licenseName&quot;: &quot;Apache License, v1.1&quot;
          }
        ],
        &quot;overriddenLicenses&quot;: []
      }
    }
  ]
}
</pre></div></div>

<p>You can add as many dependency entries (here called components) to the json file. To understand the parameters more deeply please read the <a href="analyzers/json-analyzer-step.html">JSON Analyzer</a> guide. It is also possible to provide a CSV file instead, or additionally, to the json analyzer(check the <a href="analyzers/csv-analyzer-step.html">CSV Analyzer</a> guide).</p>
<p>The final project structure after adding the workflow.xml and dependencies.json file should now look like this:</p>

<div>
<div>
<pre class="source">example_project
&#x2502;   pom.xml
&#x2514;&#x2500;&#x2500;&#x2500;src
    &#x2502;   dependencies.json
    &#x2502;   workflow.xml
    &#x2502;
    &#x251c;&#x2500;&#x2500;&#x2500;main
    &#x2502;   &#x251c;&#x2500;&#x2500;&#x2500;java
    &#x2502;   &#x2514;&#x2500;&#x2500;&#x2500;resources
    &#x2514;&#x2500;&#x2500;&#x2500;test
        &#x2514;&#x2500;&#x2500;&#x2500;java
</pre></div></div>
</div>
<div class="section">
<h3><a name="Building_the_example_project"></a>Building the example project</h3>
<p>After the setup and configuration of our project we are ready to build and execute it. Like above mentioned we attached Antenna to be executed in the build step <tt>package</tt>. Therefore we can just execute</p>

<div>
<div>
<pre class="source">mvn package
</pre></div></div>

<p>or any post build step after package. It is also possible to execute Antenna right away with</p>

<div>
<div>
<pre class="source">mvn antenna:analyze
</pre></div></div>

<p>this is useful if the plugin is not bound to a build step or the project should be only analyzed, without being build.</p></div>
<div class="section">
<h3><a name="Result"></a>Result</h3>
<p>After building our project a target folder will be created by maven. A subfolder called <tt>antenna</tt> will be created in it. The file hierarchy will look like this:</p>

<div>
<div>
<pre class="source">antenna
&#x2502;   3rdparty-licenses.html
&#x2502;   Antenna_3rdPartyAnalysisReport.txt
&#x2502;   sources.zip
&#x2502;
&#x2514;&#x2500;&#x2500;&#x2500;dependencies
        commons-lang3-3.5-sources.jar
        commons-lang3-3.5.jar
</pre></div></div>

<p>Congratulations you created your first attribution document!</p></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2019.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
