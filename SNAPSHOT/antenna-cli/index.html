<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2020-06-05 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200605" />
    <meta http-equiv="Content-Language" content="en" />
    <title>antenna-documentation &#x2013; How to use Antenna from the Command Line</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
      <script type="text/javascript" src="../js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Antenna Documentation</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-06-05<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a>  </li>
    <li><a href="../getting-started.html" title="Getting started"><span class="none"></span>Getting started</a>  </li>
    <li><a href="../how-to-use.html" title="How to use Antenna"><span class="icon-chevron-down"></span>How to use Antenna</a>
      <ul class="nav nav-list">
    <li class="active"><a href="#"><span class="none"></span>Command Line Interface</a>
  </li>
    <li><a href="../antenna-gradle-plugin/index.html" title="Gradle Plugin"><span class="none"></span>Gradle Plugin</a>  </li>
    <li><a href="../antenna-maven-plugin/index.html" title="Maven"><span class="none"></span>Maven</a>  </li>
      </ul>
  </li>
    <li><a href="../troubleshooting.html" title="Troubleshooting"><span class="none"></span>Troubleshooting</a>  </li>
    <li><a href="../compliance-tool/index.html" title="Compliance Tool"><span class="none"></span>Compliance Tool</a>  </li>
          <li class="nav-header">Development</li>
    <li><a href="../how-to-configure.html" title="How to configure Antenna"><span class="icon-chevron-down"></span>How to configure Antenna</a>
      <ul class="nav nav-list">
    <li><a href="../tool-configuration.html" title="Tool Configuration"><span class="none"></span>Tool Configuration</a>  </li>
    <li><a href="../config-configuration.html" title="config.xml"><span class="none"></span>config.xml</a>  </li>
    <li><a href="../workflow-configuration.html" title="Workflow Configuration"><span class="icon-chevron-down"></span>Workflow Configuration</a>
      <ul class="nav nav-list">
    <li><a href="../analyzers/analyzers.html" title="Analyzers"><span class="none"></span>Analyzers</a>  </li>
    <li><a href="../processors/processors.html" title="Processors"><span class="none"></span>Processors</a>  </li>
    <li><a href="../generators/generators.html" title="Generators"><span class="none"></span>Generators</a>  </li>
    <li><a href="../outputHandlers/outputHandlers.html" title="Output Handlers"><span class="none"></span>Output Handlers</a>  </li>
      </ul>
  </li>
      </ul>
  </li>
    <li><a href="../dev-guide.html" title="Development Guide"><span class="none"></span>Development Guide</a>  </li>
    <li><a href="../http-support/index_http.html" title="HTTP Support Library"><span class="none"></span>HTTP Support Library</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>How to use Antenna from the Command Line</h1>
<p>Antenna is also available as a standalone Java jar file, enabling Antenna to be used as a plain CLI tool. Although it is built from the same sources as the Maven plugin version, a few differences must be kept in mind when using the CLI frontend.</p>
<div class="section">
<h2><a name="Configuring"></a>Configuring</h2>
<p>Antenna CLI reads a <a href="../tool-configuration.html">Tool Configuration</a> file (toolConfiguration.xml) that has the same structure as the Maven plugin. However, the CLI understands this file only as plain XML and not as a Maven pom. This means that some functionality provided by Maven cannot be relied upon.</p>
<p>Here are some pointers on writing a configuration file for Antenna CLI:</p>
<ul>

<li>

<p>Unlike the Maven plugin frontend, the CLI frontend won&#x2019;t copy the project&#x2019;s artifacts into place, so your <tt>&lt;scan.patterns&gt;</tt> section must describe the original locations of your source artifacts.</p>
</li>
<li>

<p>All paths must be absolute.</p>
</li>
<li>

<p>For technical reasons variables / properties containing dots or hyphens will in general not be rendered correctly in the toolConfiguration.xml</p>
<ul>

<li>

<p>No Maven variables can be used (except for <tt>project.build.directory</tt>, <tt>project.build.outputDirectory</tt> and <tt>project.basedir</tt>, since they have been added to the context).</p>
</li>
<li>

<p>Properties with a dot in them, like <tt>${system.password}</tt> or hyphen, like <tt>${system-password}</tt> should be changed to <tt>${systemPassword}</tt> in order to be rendered.</p>
</li>
</ul>
</li>
</ul></div>
<div class="section">
<h2><a name="Running"></a>Running</h2>
<p>You can run the CLI jar file in the usual way. However, some properties need setting up correctly before doing this.</p>
<p>Here&#x2019;s an example shell script:</p>

<div>
<div>
<pre class="source">#!/usr/bin/env bash
#
# Add your configuration here
#

# Location of main Antenna jar file
ANTENNA_JAR=/path/to/antenna.jar

# Location of custom attribution document jar file
ATTRIBUTION_DOCUMENT_JAR=

# toolConfiguration.xml file for your project
TOOL_CONF_FILE=osmi-configuration/toolConfiguration.xml

#
# Run Antenna
#

# Put these together on the classpath and run Antenna
CLASSPATH=$ANTENNA_JAR:$ATTRIBUTION_DOCUMENT_JAR
java -cp $CLASSPATH $org.eclipse.sw360.antenna.frontend.AntennaCLIFrontend $TOOL_CONF_FILE
</pre></div></div>

<p>And the equivalent batch script:</p>

<div>
<div>
<pre class="source">@echo off

REM Add your configuration here

REM Location of main Antenna jar file
SET ANTENNA_JAR=c:\path\to\ antenna.jar

REM toolConfiguration.xml file for your project
SET TOOL_CONF_FILE=osmi-configuration\toolConfiguration.xml

REM Run Antenna
SET CLASSPATH=%ANTENNA_JAR%
java -cp %CLASSPATH% %org.eclipse.sw360.antenna.frontend.AntennaCLIFrontend% %TOOL_CONF_FILE%
</pre></div></div>

<p>Alternatively Antenna can be run over the command line with this simple line:</p>

<div>
<div>
<pre class="source">java -jar path\to\ antenna.jar path\to\toolConfiguration.xml
</pre></div></div>

<p>To see a description of all the command line options supported by Antenna, pass the <tt>-h</tt> or <tt>--help</tt> switch to the command line; this skips the regular execution of the tool and only prints a usage message.</p></div>
<div class="section">
<h2><a name="Adding_workflow_steps_and_plugins"></a>Adding workflow steps and plugins</h2>
<p>It is possible to use workflow steps, knowledge-bases, etc. also if they are not referenced in the assembly. To do this, the jars need to be added to the classpath. If you have a custom plugin <tt>my-custom-plugin</tt> where the jar can be found at <tt>$MY_CUSTOM_PLUGIN_JAR</tt>, then simply add</p>

<div>
<div>
<pre class="source">CLASSPATH=$ANTENNA_JAR:$MY_CUSTOM_PLUGIN_JAR
java -cp %CLASSPATH% $org.eclipse.sw360.antenna.frontend.AntennaCLIFrontend %TOOL_CONF_FILE%
</pre></div></div>

<p>in the script above.</p>
<p>The same is true for bat scripts on Windows.</p></div>
<div class="section">
<h2><a name="Adding_entry_values_over_system_environment_variables"></a>Adding entry values over system environment variables</h2>
<p>Sometimes a workflow step contains entries with variables that are credentials or should remain secret due to other reasons.</p>
<p>You can use system environment variables that you have either set in the environment or when executing the analyze command:</p>

<div>
<div>
<pre class="source">SECRET=password12345 java -jar path\to\ antenna.jar path\to\toolConfiguration.xml
</pre></div></div>

<p>Should you execute it within the command, the variable will not be saved in your environment but only exist for the run of the command. Antenna adheres to standards and only renders environment variables that are written in upper case letters.</p>
<p>Within both, your <tt>toolConfiguration.xml</tt> and the <tt>workflow.xml</tt>, you can then reference the variables.</p></div>
<div class="section">
<h2><a name="Enabling_debug_logging"></a>Enabling debug logging</h2>
<p>Per default, the output generated by the Antenna CLI is not very verbose. It is intended to give some feedback about the progress that is made; so the names of the component classes that are currently executed are printed.</p>
<p>To diagnose problems during the tool execution, more detailed log output is certainly helpful. This can be achieved by adding one of the switches <tt>-X</tt> or <tt>--debug</tt> to the command line. The log level is then increased to <i>DEBUG</i>, so much more information is printed to the console.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
