<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2020-07-10 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200710" />
    <meta http-equiv="Content-Language" content="en" />
    <title>antenna-documentation &#x2013; How to use Antenna as a Maven plugin</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
      <script type="text/javascript" src="../js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Antenna Documentation</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-07-10<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0-SNAPSHOT</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="../index.html" title="About"><span class="none"></span>About</a>  </li>
    <li><a href="../getting-started.html" title="Getting started"><span class="none"></span>Getting started</a>  </li>
    <li><a href="../how-to-use.html" title="How to use Antenna"><span class="icon-chevron-down"></span>How to use Antenna</a>
      <ul class="nav nav-list">
    <li><a href="../antenna-cli/index.html" title="Command Line Interface"><span class="none"></span>Command Line Interface</a>  </li>
    <li><a href="../antenna-gradle-plugin/index.html" title="Gradle Plugin"><span class="none"></span>Gradle Plugin</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Maven</a>
  </li>
      </ul>
  </li>
    <li><a href="../troubleshooting.html" title="Troubleshooting"><span class="none"></span>Troubleshooting</a>  </li>
    <li><a href="../compliance-tool/index.html" title="Compliance Tool"><span class="none"></span>Compliance Tool</a>  </li>
          <li class="nav-header">Development</li>
    <li><a href="../how-to-configure.html" title="How to configure Antenna"><span class="icon-chevron-down"></span>How to configure Antenna</a>
      <ul class="nav nav-list">
    <li><a href="../tool-configuration.html" title="Tool Configuration"><span class="none"></span>Tool Configuration</a>  </li>
    <li><a href="../config-configuration.html" title="config.xml"><span class="none"></span>config.xml</a>  </li>
    <li><a href="../workflow-configuration.html" title="Workflow Configuration"><span class="icon-chevron-down"></span>Workflow Configuration</a>
      <ul class="nav nav-list">
    <li><a href="../analyzers/analyzers.html" title="Analyzers"><span class="none"></span>Analyzers</a>  </li>
    <li><a href="../processors/processors.html" title="Processors"><span class="none"></span>Processors</a>  </li>
    <li><a href="../generators/generators.html" title="Generators"><span class="none"></span>Generators</a>  </li>
    <li><a href="../outputHandlers/outputHandlers.html" title="Output Handlers"><span class="none"></span>Output Handlers</a>  </li>
      </ul>
  </li>
      </ul>
  </li>
    <li><a href="../dev-guide.html" title="Development Guide"><span class="none"></span>Development Guide</a>  </li>
    <li><a href="../http-support/index_http.html" title="HTTP Support Library"><span class="none"></span>HTTP Support Library</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>How to use Antenna as a Maven plugin</h1>
<p>Using Antenna as a Maven plugin is made possible by following the steps in the configuration instructions (see <a href="../how-to-configure.html">Configuration guide</a>). Adding antenna-maven-plugin to your project&#x2019;s list of plugins enables the Antenna Maven commands.</p>

<div>
<div>
<pre class="source">&lt;plugin&gt;
    &lt;groupId&gt;org.eclipse.sw360.antenna&lt;/groupId&gt;
    &lt;artifactId&gt;antenna-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt; &lt;!-- enter desired version here --&gt;

    &lt;configuration&gt;
        ...
    &lt;/configuration&gt;
&lt;/plugin&gt;
</pre></div></div>

<p>You can execute the plugin either with the command line call:</p>

<div>
<div>
<pre class="source">mvn antenna:analyze
</pre></div></div>

<p>Or bind the analyze goal to a phase:</p>

<div>
<div>
<pre class="source">&lt;executions&gt;
    &lt;execution&gt;
        &lt;goals&gt;
            &lt;goal&gt;analyze&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;phase&gt;package&lt;/phase&gt;
    &lt;/execution&gt;
&lt;/executions&gt;
</pre></div></div>

<div class="section">
<h2><a name="Customizing_the_attribution_document"></a>Customizing the attribution document</h2>
<p>Antenna provides a built-in attribution document template that works out of the box. However, you can install jar files that apply a different theme to the document.</p>
<p>To do this, add a dependency to your project&#x2019;s pom.xml file where you install the Antenna plugin, something like this:</p>

<div>
<div>
<pre class="source">&lt;dependency&gt;
    &lt;groupId&gt;org.eclipse.sw360.antenna&lt;/groupId&gt;
    &lt;artifactId&gt;antenna-attribution-document-bosch&lt;/artifactId&gt;
&lt;/dependency&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Adding_workflow_steps_and_plugins"></a>Adding workflow steps and plugins</h2>
<p>It is possible to use workflow steps, knowledge-bases, etc. also if they are not referenced in the assembly. To do this, the jars need to be added as a dependency for the build. If you have a custom plugin <tt>my-custom-plugin</tt> with groupId <tt>org.mycompany.plugin</tt>, artifactId <tt>my-custom-plugin</tt> and version <tt>VERSION</tt>, modify the <tt>buildscript</tt> part within <tt>build.gradle</tt> as follows:</p>

<div>
<div>
<pre class="source">&lt;dependency&gt;
    &lt;groupId&gt;org.mycompany.plugin&lt;/groupId&gt;
    &lt;artifactId&gt;my-custom-plugin&lt;/artifactId&gt;
    &lt;version&gt;VERSION&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Adding_entry_values_over_maven_properties_or_environment_variables"></a>Adding entry values over maven properties or environment variables</h2>
<p>Sometimes a workflow step contains entries with variables that are credentials or should remain secret due to other reasons.</p>
<div class="section">
<div class="section">
<h4><a name="Maven_Properties"></a>Maven Properties</h4>
<p>Maven has a standard way of reading in properties, which can also be used for a Antenna run. One way is setting them in a separate <tt>settings.xml</tt> or via the command line:</p>

<div>
<div>
<pre class="source">mvn clean install -Dpassword=password12345
</pre></div></div>

<p>Withing your <tt>pom.xml</tt> variables will get rendered correctly. Should you have a separate <tt>workflow.xml</tt> file that will not be the case. The property variables are limited to the <tt>pom.xml</tt>. Should you choose this way, you would have to include a workflow section in your pom antenna configuration, as described in the <a href="../workflow-configuration.html">Workflow configuration</a>. Alternatively, you could use system environment variables.</p></div>
<div class="section">
<h4><a name="System_environment_variables"></a>System environment variables</h4>
<p>Additionally you can use system environment variables that you have either set in the environment or when executing the analyze command:</p>

<div>
<div>
<pre class="source">SECRET=password12345 mvn clean install
</pre></div></div>

<p>Should you execute it within the command, the variable will not be saved in your environment but only exist for the run of the command. Antenna adheres to standards and only renders environment variables that are written in upper case letters.</p>
<p>Within both your <tt>pom.xml</tt> and the <tt>workflow.xml</tt> you can then reference the variables.</p></div>
<div class="section">
<h4><a name="Note"></a>Note</h4>
<p>As explained in this <a class="externalLink" href="https://central.sonatype.org/articles/2019/Apr/30/http-access-to-repo1mavenorg-and-repomavenapacheorg-is-being-deprecated/">Sonatype statement</a> a decommissioning of HTTP for Gradle Services started in January 2020. Should your builds fail with the reason &#x201c;HTTPS required&#x201d; it is most likely that you are using a decommissioned URL and need to change it to HTTPS.</p></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
